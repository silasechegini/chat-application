{"code":"(this.webpackJsonpchat_application=this.webpackJsonpchat_application||[]).push([[0],{91:function(e,t,a){},92:function(e,t,a){\"use strict\";a.r(t);var s=a(0),c=a.n(s),n=a(16),r=a.n(n),i=a(13),l=a(10),o=a(23),u=a.n(o),d=a(42),j=a(7),m=a(4),b=a.n(m),h=a(1),p=function(){var e=Object(s.useState)(\"\"),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(\"\"),r=Object(j.a)(n,2),i=r[0],l=r[1],o=Object(s.useState)(\"\"),m=Object(j.a)(o,2),p=m[0],g=m[1],v=function(){var e=Object(d.a)(u.a.mark((function e(t){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={\"Project-ID\":\"e78b3fc4-b46a-4518-8814-dc5384123473\",\"User-Name\":a,\"User-Secret\":i},e.prev=2,e.next=5,b.a.get(\"https://api.chatengine.io/chats\",{headers:s});case 5:localStorage.setItem(\"username\",a),localStorage.setItem(\"password\",i),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),g(\"Oops, wrong credentials, try again\");case 13:case\"end\":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(\"div\",{className:\"wrapper\",children:Object(h.jsxs)(\"div\",{className:\"form\",children:[Object(h.jsx)(\"h1\",{className:\"title\",style:{fontFamily:\"Mogra\",color:\"purple\"},children:\"Chat Application\"}),Object(h.jsxs)(\"form\",{onSubmit:v,children:[Object(h.jsx)(\"input\",{type:\"text\",value:a,onChange:function(e){return c(e.target.value)},className:\"input\",placeholder:\"Username\",required:!0}),Object(h.jsx)(\"input\",{type:\"password\",value:i,onChange:function(e){return l(e.target.value)},className:\"input\",placeholder:\"Password\",required:!0}),Object(h.jsx)(\"div\",{align:\"center\",children:Object(h.jsx)(\"button\",{type:\"submit\",className:\"button title\",children:Object(h.jsx)(\"p\",{style:{fontFamily:\"Mogra\",color:\"purple\"},children:\"Start Chatting\"})})}),Object(h.jsx)(\"div\",{align:\"center\",style:{marginTop:\"2em\",color:\"red\"},children:Object(h.jsx)(\"h2\",{children:p})})]})]})})},g=a(94),v=a(95),O=function(e){var t=Object(s.useState)(\"\"),a=Object(j.a)(t,2),c=a[0],n=a[1],r=e.chatId,i=e.creds,o=(e.userName,function(e){e.preventDefault();var t=c.trim();t.length>0&&Object(l.i)(i,r,{text:t}),n(\" \")});return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"p\",{children:e.status}),Object(h.jsxs)(\"form\",{className:\"message-form\",onSubmit:o,children:[Object(h.jsx)(\"input\",{className:\"message-input\",placeholder:\"send a message\",value:c,onChange:function(t){n(t.target.value),Object(l.f)(e,r)},onSubmit:o}),Object(h.jsx)(\"label\",{htmlFor:\"upload-button\",children:Object(h.jsx)(\"span\",{className:\"image-button\",children:Object(h.jsx)(g.a,{className:\"picture-icon\"})})}),Object(h.jsx)(\"input\",{type:\"file\",multiple:!1,id:\"upload-button\",style:{display:\"none\"},onChange:function(e){Object(l.i)(i,r,{files:e.target.files,text:\"\"})}}),Object(h.jsx)(\"button\",{type:\"submit\",className:\"send-button\",children:Object(h.jsx)(v.a,{className:\"send-icon\"})})]})]})},x=function(e){var t,a=e.message;return(null===a||void 0===a||null===(t=a.attachments)||void 0===t?void 0:t.length)>0?Object(h.jsx)(\"img\",{src:a.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{float:\"right\"}}):Object(h.jsx)(\"div\",{className:\"message\",style:{float:\"right\",marginRight:\"18px\",color:\"white\",backgroundColor:\"#3B2A50\"},children:a.text})},f=function(e){var t,a,s=e.lastMessage,c=e.message,n=!s||s.sender.username!==c.sender.username;return Object(h.jsxs)(\"div\",{className:\"message-row\",children:[n&&Object(h.jsx)(\"div\",{className:\"message-avatar\",style:{backgroundImage:\"url(\".concat(null===c||void 0===c||null===(t=c.sender)||void 0===t?void 0:t.avatar,\")\")}}),(null===c||void 0===c||null===(a=c.attachments)||void 0===a?void 0:a.length)>0?Object(h.jsx)(\"img\",{src:c.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{marginLeft:n?\"4px\":\"48px\"}}):Object(h.jsx)(\"div\",{className:\"message\",style:{float:\"left\",backgroundColor:\"#CABCDC\",marginLeft:n?\"4px\":\"48px\"},children:c.text})]})},N=function(e){var t=e.chats,a=e.activeChat,c=e.userName,n=e.messages,r=t&&t[a],l=Object(s.useState)(\"\"),o=Object(j.a)(l,2),u=o[0],d=o[1],m=function(e,t){return r.people.map((function(a,s){var c;return a.last_read===e.id&&Object(h.jsx)(\"div\",{className:\"read-receipt\",style:{float:t?\"right\":\"left\",backgroundImage:\"url(\".concat(null===a||void 0===a||null===(c=a.person)||void 0===c?void 0:c.avatar,\")\")}},\"read_\".concat(s))}))},b=function(){var e=Object.keys(n);return e.map((function(t,a){var s=n[t],r=0===a?null:e[a-1],i=c===s.sender.username;return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{className:\"message-block\",children:i?Object(h.jsx)(x,{message:s}):Object(h.jsx)(f,{message:s,lastMessage:n[r]})}),Object(h.jsx)(\"div\",{className:\"read-receipts\",style:{marginRight:i?\"18px\":\"0\",marginLeft:i?\"0\":\"68px\"},children:m(s,i)})]},\"msg_\".concat(a,\" style={{width: '100%'}}\"))}))};if(b(),!r)return\"Loading... \";var p=function(t){var a=e.userName;console.log(\"\".concat(a,\" is typing ...\")),d(\"\".concat(a,\" is typing ...\"))};return window.addEventListener(\"keypress\",p),window.addEventListener(\"keyup\",(function(e){setTimeout((function(){d(\"\")}),1e4)})),Object(h.jsxs)(\"div\",{className:\"chat-feed\",children:[Object(h.jsxs)(\"div\",{className:\"chat-title-container\",children:[Object(h.jsx)(\"div\",{className:\"chat-title\",children:null===r||void 0===r?void 0:r.title}),Object(h.jsx)(\"div\",{className:\"chat-subtitle\",children:r.people.map((function(e){return\" \".concat(e.person.username)}))})]}),b(),Object(h.jsx)(\"div\",{style:{height:\"100px\"}}),Object(h.jsxs)(\"div\",{className:\"message-form-container\",children:[Object(h.jsx)(\"p\",{children:u}),Object(h.jsx)(O,Object(i.a)(Object(i.a)({},e),{},{chatId:a,onStatus:p,status:u}))]})]})},y=(a(91),function(){return localStorage.getItem(\"username\")?Object(h.jsx)(l.a,{height:\"100vh\",projectID:\"e78b3fc4-b46a-4518-8814-dc5384123473\",userName:localStorage.getItem(\"username\"),userSecret:localStorage.getItem(\"password\"),renderChatFeed:function(e){return Object(h.jsx)(N,Object(i.a)({},e))}}):Object(h.jsx)(p,{})});r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById(\"root\"))}},[[92,1,2]]]);","name":"static/js/main.f7801f3e.chunk.js","map":{"version":3,"sources":["static/js/main.f7801f3e.chunk.js"],"names":["this","push","91","module","exports","__webpack_require__","92","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","index_modern","regenerator","regenerator_default","asyncToGenerator","slicedToArray","axios","axios_default","jsx_runtime","components_LoginForm","_useState","Object","_useState2","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","handleSubmit","_ref","a","mark","_callee","e","authObject","wrap","_context","prev","next","preventDefault","Project-ID","User-Name","User-Secret","get","headers","localStorage","setItem","window","location","reload","t0","stop","_x","apply","arguments","className","children","style","fontFamily","color","onSubmit","type","value","onChange","target","placeholder","required","align","marginTop","PictureOutlined","SendOutlined","components_MessageForm","props","setValue","chatId","creds","userName","event","text","trim","length","status","htmlFor","multiple","id","display","files","components_MyMessage","_message$attachments","message","attachments","src","file","alt","float","marginRight","backgroundColor","components_TheirMessage","_message$sender","lastMessage","isFirstMessageByUser","sender","backgroundImage","concat","avatar","marginLeft","components_ChatFeed","chats","activeChat","messages","chat","setStatus","renderReadReceipts","isMyMessage","people","map","person","index","_person$person","last_read","renderMessages","keys","key","lastMessageKey","handleStatus","user","console","log","addEventListener","setTimeout","title","height","onStatus","src_App_0","getItem","projectID","userSecret","renderChatFeed","chatAppProps","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpchat_application\"] = this[\"webpackJsonpchat_application\"] || []).push([[0],{\n\n/***/ 91:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 92:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react-chat-engine/dist/index.modern.js + 20 modules\nvar index_modern = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(23);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/LoginForm.jsx\nvar LoginForm_LoginForm=function LoginForm(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var authObject;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();//username / password => chatengine -> give messages\n//works ? logged in\n// no? try with new username\nauthObject={'Project-ID':\"e78b3fc4-b46a-4518-8814-dc5384123473\",'User-Name':username,'User-Secret':password};_context.prev=2;_context.next=5;return axios_default.a.get('https://api.chatengine.io/chats',{headers:authObject});case 5:localStorage.setItem('username',username);localStorage.setItem('password',password);window.location.reload();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError('Oops, wrong credentials, try again');case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"title\",style:{\"fontFamily\":\"Mogra\",\"color\":\"purple\"},children:\"Chat Application\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"input\",placeholder:\"Username\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"input\",placeholder:\"Password\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{align:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"button title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{\"fontFamily\":\"Mogra\",\"color\":\"purple\"},children:\"Start Chatting\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{align:\"center\",style:{marginTop:\"2em\",color:\"red\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:error})})]})]})});};/* harmony default export */ var components_LoginForm = (LoginForm_LoginForm);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/PictureOutlined.js + 1 modules\nvar PictureOutlined = __webpack_require__(94);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/SendOutlined.js + 1 modules\nvar SendOutlined = __webpack_require__(95);\n\n// CONCATENATED MODULE: ./src/components/MessageForm.jsx\nvar MessageForm_MessageForm=function MessageForm(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),value=_useState2[0],setValue=_useState2[1];var chatId=props.chatId,creds=props.creds,userName=props.userName;var handleSubmit=function handleSubmit(event){event.preventDefault();var text=value.trim();if(text.length>0)Object(index_modern[\"i\" /* sendMessage */])(creds,chatId,{text:text});setValue(' ');};var handleChange=function handleChange(event){setValue(event.target.value);Object(index_modern[\"f\" /* isTyping */])(props,chatId);};var handleUpload=function handleUpload(event){Object(index_modern[\"i\" /* sendMessage */])(creds,chatId,{files:event.target.files,text:''});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:props.status}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"message-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message-input\",placeholder:\"send a message\",value:value,onChange:handleChange,onSubmit:handleSubmit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"upload-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"image-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PictureOutlined[\"a\" /* default */],{className:\"picture-icon\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",multiple:false,id:\"upload-button\",style:{display:'none'},onChange:handleUpload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"send-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SendOutlined[\"a\" /* default */],{className:\"send-icon\"})})]})]});};/* harmony default export */ var components_MessageForm = (MessageForm_MessageForm);\n// CONCATENATED MODULE: ./src/components/MyMessage.jsx\nvar MyMessage_MyMessage=function MyMessage(_ref){var _message$attachments;var message=_ref.message;if((message===null||message===void 0?void 0:(_message$attachments=message.attachments)===null||_message$attachments===void 0?void 0:_message$attachments.length)>0){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:message.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{float:'right'}});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",style:{float:'right',marginRight:'18px',color:'white',backgroundColor:'#3B2A50'},children:message.text});};/* harmony default export */ var components_MyMessage = (MyMessage_MyMessage);\n// CONCATENATED MODULE: ./src/components/TheirMessage.jsx\nvar TheirMessage_TheirMessage=function TheirMessage(_ref){var _message$sender,_message$attachments;var lastMessage=_ref.lastMessage,message=_ref.message;var isFirstMessageByUser=!lastMessage||lastMessage.sender.username!==message.sender.username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-row\",children:[isFirstMessageByUser&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-avatar\",style:{backgroundImage:\"url(\".concat(message===null||message===void 0?void 0:(_message$sender=message.sender)===null||_message$sender===void 0?void 0:_message$sender.avatar,\")\")}}),(message===null||message===void 0?void 0:(_message$attachments=message.attachments)===null||_message$attachments===void 0?void 0:_message$attachments.length)>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:message.attachments[0].file,alt:\"message-attachment\",className:\"message-image\",style:{marginLeft:isFirstMessageByUser?'4px':'48px'}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",style:{float:'left',backgroundColor:'#CABCDC',marginLeft:isFirstMessageByUser?'4px':'48px'},children:message.text})]});};/* harmony default export */ var components_TheirMessage = (TheirMessage_TheirMessage);\n// CONCATENATED MODULE: ./src/components/ChatFeed.jsx\nvar ChatFeed_ChatFeed=function ChatFeed(props){var chats=props.chats,activeChat=props.activeChat,userName=props.userName,messages=props.messages;var chat=chats&&chats[activeChat];var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),status=_useState2[0],setStatus=_useState2[1];var renderReadReceipts=function renderReadReceipts(message,isMyMessage){return chat.people.map(function(person,index){var _person$person;return person.last_read===message.id&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"read-receipt\",style:{float:isMyMessage?'right':'left',backgroundImage:\"url(\".concat(person===null||person===void 0?void 0:(_person$person=person.person)===null||_person$person===void 0?void 0:_person$person.avatar,\")\")}},\"read_\".concat(index));});};var renderMessages=function renderMessages(){var keys=Object.keys(messages);return keys.map(function(key,index){var message=messages[key];var lastMessageKey=index===0?null:keys[index-1];var isMyMessage=userName===message.sender.username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-block\",children:isMyMessage?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MyMessage,{message:message}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TheirMessage,{message:message,lastMessage:messages[lastMessageKey]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"read-receipts\",style:{marginRight:isMyMessage?'18px':'0',marginLeft:isMyMessage?'0':'68px'},children:renderReadReceipts(message,isMyMessage)})]},\"msg_\".concat(index,\" style={{width: '100%'}}\"));});};renderMessages();if(!chat)return'Loading... ';var handleStatus=function handleStatus(event){var user=props.userName;console.log(\"\".concat(user,\" is typing ...\"));setStatus(\"\".concat(user,\" is typing ...\"));};var handleKeyUp=function handleKeyUp(event){setTimeout(function(){setStatus(\"\");},10000);};window.addEventListener('keypress',handleStatus);window.addEventListener('keyup',handleKeyUp);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-feed\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-title-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-title\",children:chat===null||chat===void 0?void 0:chat.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-subtitle\",children:chat.people.map(function(person){return\" \".concat(person.person.username);})})]}),renderMessages(),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:'100px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-form-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:status}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MessageForm,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{chatId:activeChat,onStatus:handleStatus,status:status}))]})]});};/* harmony default export */ var components_ChatFeed = (ChatFeed_ChatFeed);\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(91);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){if(!localStorage.getItem('username'))return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginForm,{});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_modern[\"a\" /* ChatEngine */],{height:\"100vh\",projectID:\"e78b3fc4-b46a-4518-8814-dc5384123473\",userName:localStorage.getItem('username'),userSecret:localStorage.getItem('password'),renderChatFeed:function renderChatFeed(chatAppProps){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ChatFeed,Object(objectSpread2[\"a\" /* default */])({},chatAppProps));}});};/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[92,1,2]]]);","inputSourceMap":{"version":3,"sources":["E:\\JScriptRepo\\chat_application\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!E:\\JScriptRepo\\chat_application\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!E:\\JScriptRepo\\chat_application\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\JScriptRepo\\chat_application\\src\\App.css","E:/JScriptRepo/chat_application/src/components/LoginForm.jsx","E:/JScriptRepo/chat_application/src/components/MessageForm.jsx","E:/JScriptRepo/chat_application/src/components/MyMessage.jsx","E:/JScriptRepo/chat_application/src/components/TheirMessage.jsx","E:/JScriptRepo/chat_application/src/components/ChatFeed.jsx","E:/JScriptRepo/chat_application/src/App.js","E:/JScriptRepo/chat_application/src/index.js"],"names":["LoginForm","useState","username","setUsername","password","setPassword","error","setError","handleSubmit","e","preventDefault","authObject","axios","get","headers","localStorage","setItem","window","location","reload","target","value","marginTop","color","MessageForm","props","setValue","chatId","creds","userName","event","text","trim","length","sendMessage","handleChange","isTyping","handleUpload","files","status","display","MyMessage","message","attachments","file","float","marginRight","backgroundColor","TheirMessage","lastMessage","isFirstMessageByUser","sender","backgroundImage","avatar","marginLeft","ChatFeed","chats","activeChat","messages","chat","setStatus","renderReadReceipts","isMyMessage","people","map","person","index","last_read","id","renderMessages","keys","Object","key","lastMessageKey","handleStatus","user","console","log","handleKeyUp","setTimeout","addEventListener","title","height","App","getItem","chatAppProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LoginForm = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n         //username / password => chatengine -> give messages\r\n         //works ? logged in\r\n         // no? try with new username\r\n\r\n         const authObject = {'Project-ID': \"e78b3fc4-b46a-4518-8814-dc5384123473\", 'User-Name': username, 'User-Secret': password };\r\n\r\n         try {\r\n             await axios.get('https://api.chatengine.io/chats', { headers: authObject });\r\n             localStorage.setItem('username', username);\r\n             localStorage.setItem('password', password);\r\n\r\n             window.location.reload();\r\n         }catch (error) {\r\n            setError('Oops, wrong credentials, try again')\r\n         }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"form\">\r\n                <h1 className=\"title\" style={{\"fontFamily\":\"Mogra\", \"color\":\"purple\"}}>Chat Application</h1>\r\n                <form onSubmit={ handleSubmit }>\r\n                    <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"input\" placeholder=\"Username\" required />\r\n                    <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required />\r\n                    <div align=\"center\">\r\n                        <button type=\"submit\" className=\"button title\">\r\n                            <p style={{\"fontFamily\":\"Mogra\", \"color\":\"purple\"}}>Start Chatting</p>\r\n                        </button>\r\n                    </div>\r\n                    <div align=\"center\" style={{marginTop: \"2em\", color: \"red\"}}>\r\n                        <h2>{error}</h2>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import {useState} from 'react';\r\nimport {sendMessage, isTyping} from 'react-chat-engine';\r\nimport {SendOutlined, PictureOutlined } from '@ant-design/icons';\r\n\r\nconst MessageForm = (props) => {\r\n    const [value, setValue] = useState('');\r\n    const {chatId, creds, userName} = props;\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        const text = value.trim();\r\n\r\n        if(text.length > 0) sendMessage(creds, chatId, {text});\r\n\r\n        setValue(' ');\r\n\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n        isTyping(props, chatId);\r\n    }\r\n\r\n    const handleUpload = (event) => {\r\n        sendMessage(creds, chatId, {files: event.target.files, text: ''})\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>{props.status}</p>\r\n            <form className=\"message-form\" onSubmit={handleSubmit}>\r\n                <input \r\n                    className=\"message-input\"\r\n                    placeholder=\"send a message\"\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    onSubmit={handleSubmit}\r\n                />\r\n\r\n                <label htmlFor=\"upload-button\">\r\n                    <span className=\"image-button\">\r\n                        <PictureOutlined className=\"picture-icon\" />\r\n                    </span>\r\n                </label>\r\n                <input \r\n                    type=\"file\"\r\n                    multiple={false}\r\n                    id=\"upload-button\"\r\n                    style={{display: 'none'}}\r\n                    onChange={handleUpload}\r\n                />\r\n\r\n                <button type=\"submit\" className=\"send-button\">\r\n                    <SendOutlined className=\"send-icon\" />\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageForm;","const MyMessage = ({message}) => {\r\n    if( message?.attachments?.length > 0) {\r\n        return (\r\n            <img \r\n                src={message.attachments[0].file}\r\n                alt=\"message-attachment\"\r\n                className=\"message-image\"\r\n                style={{ float: 'right' }}\r\n            />\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <div className=\"message\" style={{float: 'right', marginRight: '18px', color: 'white', backgroundColor: '#3B2A50'}}>\r\n            {message.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyMessage;","const TheirMessage = ({lastMessage, message}) => {\r\n    const isFirstMessageByUser =! lastMessage || lastMessage.sender.username !== message.sender.username ;\r\n\r\n    return (\r\n        <div className=\"message-row\">\r\n            {isFirstMessageByUser && (\r\n                <div \r\n                    className=\"message-avatar\"\r\n                    style={{backgroundImage: `url(${message?.sender?.avatar})`}}\r\n                />\r\n            )}\r\n            {\r\n                message?.attachments?.length > 0\r\n                    ?(\r\n                        <img \r\n                            src={message.attachments[0].file}\r\n                            alt=\"message-attachment\"\r\n                            className=\"message-image\"\r\n                            style={{ marginLeft: isFirstMessageByUser ? '4px' : '48px' }}\r\n                        />\r\n                    ) : (\r\n                            <div className=\"message\" style={{float: 'left', backgroundColor: '#CABCDC', marginLeft: isFirstMessageByUser ? '4px' : '48px'}}>\r\n                                {message.text}\r\n                            </div>\r\n                        )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TheirMessage;","import { useState } from 'react';\r\nimport MessageForm from './MessageForm';\r\nimport MyMessage from './MyMessage';\r\nimport TheirMessage from './TheirMessage';\r\n\r\n\r\nconst ChatFeed = (props) => {\r\n\r\n    const {chats, activeChat, userName, messages} = props;\r\n\r\n    const chat = chats && chats[activeChat];\r\n\r\n    const [status, setStatus] = useState(\"\");\r\n\r\n    const renderReadReceipts = (message, isMyMessage) => {\r\n        return chat.people.map((person, index) => person.last_read === message.id && (\r\n            <div \r\n                key={`read_${index}`}\r\n                className=\"read-receipt\"\r\n                style={{float: isMyMessage? 'right' : 'left', backgroundImage: `url(${person?.person?.avatar})`}}\r\n            />\r\n        ))\r\n    }\r\n\r\n    const renderMessages = () => {\r\n        const keys = Object.keys(messages);\r\n\r\n        return keys.map((key, index) => {\r\n            const message = messages[key];\r\n            const lastMessageKey = index === 0? null : keys[index - 1];\r\n            const isMyMessage = userName === message.sender.username;\r\n\r\n            return (\r\n                <div key={`msg_${index} style={{width: '100%'}}`}> \r\n                    <div className=\"message-block\">\r\n                        {\r\n                            isMyMessage \r\n                            ? <MyMessage message={message}/>\r\n                            :<TheirMessage message={message} lastMessage={messages[lastMessageKey]}/>\r\n                        }\r\n                    </div>\r\n                    <div className=\"read-receipts\" style={{marginRight: isMyMessage ? '18px' : '0', marginLeft: isMyMessage ? '0' : '68px'}}>\r\n                        {renderReadReceipts(message, isMyMessage)}\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderMessages()\r\n\r\n    if(!chat) return 'Loading... '\r\n\r\n    const handleStatus = (event) => {\r\n        let user = props.userName;\r\n        console.log(`${user} is typing ...`);\r\n        setStatus(`${user} is typing ...`);\r\n    }\r\n\r\n    const handleKeyUp = (event) => {\r\n        setTimeout(() => {\r\n            setStatus(\"\");\r\n        }, 10000);\r\n    }\r\n\r\n    window.addEventListener('keypress', handleStatus);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n\r\n    return(\r\n        <div className=\"chat-feed\">\r\n            <div className=\"chat-title-container\">\r\n                <div className=\"chat-title\">{chat?.title}</div>\r\n                <div className=\"chat-subtitle\">\r\n                    {chat.people.map((person) => ` ${person.person.username}`)}\r\n                </div>\r\n            </div>\r\n            {renderMessages()}\r\n            <div style={{ height: '100px' }} />\r\n\r\n            <div className=\"message-form-container\">\r\n                <p>{status}</p>\r\n                <MessageForm {...props} chatId={activeChat} onStatus={handleStatus} status={status}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatFeed;","import {ChatEngine} from 'react-chat-engine';\nimport LoginForm from './components/LoginForm'\nimport ChatFeed from './components/ChatFeed';\nimport './App.css';\n\nconst App = () => {\n\n  if (!localStorage.getItem('username')) return < LoginForm />\n  return (\n    <ChatEngine\n      height=\"100vh\"\n      projectID=\"e78b3fc4-b46a-4518-8814-dc5384123473\"\n      userName={localStorage.getItem('username')}\n      userSecret={localStorage.getItem('password')}\n      renderChatFeed={(chatAppProps) => <ChatFeed {...chatAppProps} />}\n    />\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}