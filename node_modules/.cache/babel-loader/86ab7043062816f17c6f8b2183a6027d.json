{"ast":null,"code":"import _regeneratorRuntime from\"E:/JScriptRepo/chat_application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/JScriptRepo/chat_application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/JScriptRepo/chat_application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var authObject;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();//username / password => chatengine -> give messages\n//works ? logged in\n// no? try with new username\nauthObject={'Project-ID':\"e78b3fc4-b46a-4518-8814-dc5384123473\",'User-Name':username,'User-Secret':password};_context.prev=2;_context.next=5;return axios.get('https://api.chatengine.io/chats',{headers:authObject});case 5:localStorage.setItem('username',username);localStorage.setItem('password',password);window.location.reload();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError('Oops, wrong credentials, try again');case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",style:{\"fontFamily\":\"Mogra\",\"color\":\"purple\"},children:\"Chat Application\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"input\",placeholder:\"Username\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"input\",placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button title\",children:/*#__PURE__*/_jsx(\"p\",{style:{\"fontFamily\":\"Mogra\",\"color\":\"purple\"},children:\"Start Chatting\"})})}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",style:{marginTop:\"2em\",color:\"red\"},children:/*#__PURE__*/_jsx(\"h2\",{children:error})})]})]})});};export default LoginForm;","map":{"version":3,"sources":["E:/JScriptRepo/chat_application/src/components/LoginForm.jsx"],"names":["useState","axios","LoginForm","username","setUsername","password","setPassword","error","setError","handleSubmit","e","preventDefault","authObject","get","headers","localStorage","setItem","window","location","reload","target","value","marginTop","color"],"mappings":"+bAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eACYF,QAAQ,CAAC,EAAD,CADpB,wCACbG,QADa,eACHC,WADG,8BAEYJ,QAAQ,CAAC,EAAD,CAFpB,yCAEbK,QAFa,eAEHC,WAFG,8BAGMN,QAAQ,CAAC,EAAD,CAHd,yCAGbO,KAHa,eAGNC,QAHM,eAMpB,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,iIACjBA,CAAC,CAACC,cAAF,GACC;AACA;AACA;AAEMC,UANU,CAMG,CAAC,aAAc,sCAAf,CAAuD,YAAaT,QAApE,CAA8E,cAAeE,QAA7F,CANH,uCASNJ,CAAAA,KAAK,CAACY,GAAN,CAAU,iCAAV,CAA6C,CAAEC,OAAO,CAAEF,UAAX,CAA7C,CATM,QAUZG,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCb,QAAjC,EACAY,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCX,QAAjC,EAEAY,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAbY,iFAebX,QAAQ,CAAC,oCAAD,CAAR,CAfa,qEAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAoBA,mBACI,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,WAAI,SAAS,CAAC,OAAd,CAAsB,KAAK,CAAE,CAAC,aAAa,OAAd,CAAuB,QAAQ,QAA/B,CAA7B,8BADJ,cAEI,cAAM,QAAQ,CAAGA,YAAjB,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,QAA1B,CAAoC,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,WAAW,CAACM,CAAC,CAACU,MAAF,CAASC,KAAV,CAAlB,EAA9C,CAAkF,SAAS,CAAC,OAA5F,CAAoG,WAAW,CAAC,UAAhH,CAA2H,QAAQ,KAAnI,EADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEhB,QAA9B,CAAwC,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,CAAAA,WAAW,CAACI,CAAC,CAACU,MAAF,CAASC,KAAV,CAAlB,EAAlD,CAAsF,SAAS,CAAC,OAAhG,CAAwG,WAAW,CAAC,UAApH,CAA+H,QAAQ,KAAvI,EAFJ,cAGI,YAAK,KAAK,CAAC,QAAX,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,uBACI,UAAG,KAAK,CAAE,CAAC,aAAa,OAAd,CAAuB,QAAQ,QAA/B,CAAV,4BADJ,EADJ,EAHJ,cAQI,YAAK,KAAK,CAAC,QAAX,CAAoB,KAAK,CAAE,CAACC,SAAS,CAAE,KAAZ,CAAmBC,KAAK,CAAE,KAA1B,CAA3B,uBACI,oBAAKhB,KAAL,EADJ,EARJ,GAFJ,GADJ,EADJ,CAmBH,CA7CD,CA+CA,cAAeL,CAAAA,SAAf","sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LoginForm = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n         //username / password => chatengine -> give messages\r\n         //works ? logged in\r\n         // no? try with new username\r\n\r\n         const authObject = {'Project-ID': \"e78b3fc4-b46a-4518-8814-dc5384123473\", 'User-Name': username, 'User-Secret': password };\r\n\r\n         try {\r\n             await axios.get('https://api.chatengine.io/chats', { headers: authObject });\r\n             localStorage.setItem('username', username);\r\n             localStorage.setItem('password', password);\r\n\r\n             window.location.reload();\r\n         }catch (error) {\r\n            setError('Oops, wrong credentials, try again')\r\n         }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"form\">\r\n                <h1 className=\"title\" style={{\"fontFamily\":\"Mogra\", \"color\":\"purple\"}}>Chat Application</h1>\r\n                <form onSubmit={ handleSubmit }>\r\n                    <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"input\" placeholder=\"Username\" required />\r\n                    <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" placeholder=\"Password\" required />\r\n                    <div align=\"center\">\r\n                        <button type=\"submit\" className=\"button title\">\r\n                            <p style={{\"fontFamily\":\"Mogra\", \"color\":\"purple\"}}>Start Chatting</p>\r\n                        </button>\r\n                    </div>\r\n                    <div align=\"center\" style={{marginTop: \"2em\", color: \"red\"}}>\r\n                        <h2>{error}</h2>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}